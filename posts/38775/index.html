<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="有趣的 CSS 数学函数"><meta name="keywords" content=""><meta name="author" content="alphardex"><meta name="copyright" content="alphardex"><title>有趣的 CSS 数学函数 | 名無声</title><link rel="shortcut icon" href="/mygo/img/favicon.ico"><link rel="stylesheet" href="/mygo/css/index.css?version=1.9.1"><link rel="stylesheet" href="/mygo/css/mygo.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/mygo/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '7.2.0'
} </script><meta name="generator" content="Hexo 7.2.0"><link rel="alternate" href="/mygo/atom.xml" title="名無声" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSS-%E6%95%B0%E5%AD%A6%E5%87%BD%E6%95%B0"><span class="toc-number">2.</span> <span class="toc-text">CSS 数学函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9D%E5%AF%B9%E5%80%BC"><span class="toc-number">2.1.</span> <span class="toc-text">绝对值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E4%BD%8D%E6%95%B0"><span class="toc-number">2.2.</span> <span class="toc-text">中位数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E8%BD%B4%E4%B8%8A%E4%B8%A4%E7%82%B9%E8%B7%9D%E7%A6%BB"><span class="toc-number">2.3.</span> <span class="toc-text">数轴上两点距离</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">三角函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BE%8B%E5%AD%90"><span class="toc-number">3.</span> <span class="toc-text">例子</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%BB%B4%E4%BA%A4%E9%94%99%E5%8A%A8%E7%94%BB"><span class="toc-number">3.1.</span> <span class="toc-text">一维交错动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81"><span class="toc-number">3.1.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%8A%A8%E7%94%BB"><span class="toc-number">3.1.2.</span> <span class="toc-text">应用动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E9%94%99%E5%8A%A8%E7%94%BB"><span class="toc-number">3.1.3.</span> <span class="toc-text">交错动画</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E4%BA%A4%E9%94%99%E5%8A%A8%E7%94%BB"><span class="toc-number">3.2.</span> <span class="toc-text">二维交错动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81-1"><span class="toc-number">3.2.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%8A%A8%E7%94%BB-1"><span class="toc-number">3.2.2.</span> <span class="toc-text">应用动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E9%94%99%E5%8A%A8%E7%94%BB-1"><span class="toc-number">3.2.3.</span> <span class="toc-text">交错动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%A6%E4%B8%80%E7%A7%8D%E5%8A%A8%E7%94%BB"><span class="toc-number">3.2.4.</span> <span class="toc-text">另一种动画</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%99%E5%BC%A6%E6%B3%A2%E5%8A%A8%E5%8A%A8%E7%94%BB"><span class="toc-number">3.3.</span> <span class="toc-text">余弦波动动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E7%8A%B6%E6%80%81-2"><span class="toc-number">3.3.1.</span> <span class="toc-text">初始状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%99%E5%BC%A6%E6%8E%92%E5%88%97"><span class="toc-number">3.3.2.</span> <span class="toc-text">余弦排列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A2%E5%8A%A8%E5%8A%A8%E7%94%BB"><span class="toc-number">3.3.3.</span> <span class="toc-text">波动动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%A4%E9%94%99%E5%8A%A8%E7%94%BB-2"><span class="toc-number">3.3.4.</span> <span class="toc-text">交错动画</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E5%90%8E"><span class="toc-number">4.</span> <span class="toc-text">最后</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://s2.loli.net/2024/05/21/NhyV4THWaAgOwED.jpg"></div><div class="author-info__name text-center">alphardex</div><div class="author-info__description text-center">&quot;普通&quot;とか&quot;あたりまえ&quot;ってなんだろう</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/mygo/archives"><span class="pull-left">Articles</span><span class="pull-right">44</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://s2.loli.net/2024/05/21/HtNjkzv1FEdAVby.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/mygo/">名無声</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/mygo/">Home</a><a class="site-page" href="/mygo/archives">Archives</a><a class="site-page" href="/mygo/about">About</a></span><span class="pull-right"></span></div><div id="post-info"><div id="post-title">有趣的 CSS 数学函数</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-08-19</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>大家好，这里是 CSS 兼 WebGL 魔法使——alphardex。</p>
<p>之前一直在玩 three.js ，接触了很多数学函数，用它们创造过很多特效。于是我思考：能否在 CSS 中也用上这些数学函数，但发现 CSS 目前还没有，据说以后的新规范会纳入，估计也要等很久。</p>
<p>然而，我们可以通过一些小技巧，来创作出一些属于自己的 CSS 数学函数，从而实现一些有趣的动画效果。</p>
<p>让我们开始吧！</p>
<span id="more"></span>

<h2 id="CSS-数学函数"><a href="#CSS-数学函数" class="headerlink" title="CSS 数学函数"></a>CSS 数学函数</h2><p>注意：以下的函数用原生 CSS 也都能实现，这里用 SCSS 函数只是为了方便封装，封装起来的话更方便调用</p>
<h3 id="绝对值"><a href="#绝对值" class="headerlink" title="绝对值"></a>绝对值</h3><p>绝对值就是正的还是正的，负的变为正的</p>
<p>可以创造 2 个数，其中一个数是另一个数的相反数，比较它们的最大值，即可获得这个数的绝对值</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@function</span> abs(<span class="variable">$v</span>) &#123;</span><br><span class="line">  <span class="keyword">@return</span> max(#&#123;<span class="variable">$v</span>&#125;, <span class="built_in">calc</span>(-<span class="number">1</span> * #&#123;$v&#125;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="中位数"><a href="#中位数" class="headerlink" title="中位数"></a>中位数</h3><p>原数减 1 并乘以一半即可</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@function</span> middle(<span class="variable">$v</span>) &#123;</span><br><span class="line">  <span class="keyword">@return</span> calc(<span class="number">0.5</span> * (#&#123;<span class="variable">$v</span>&#125; - <span class="number">1</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数轴上两点距离"><a href="#数轴上两点距离" class="headerlink" title="数轴上两点距离"></a>数轴上两点距离</h3><p>数轴上两点距离就是两点所表示数字之差的绝对值，有了上面的绝对值公式就可以直接写出来</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@function</span> dist-<span class="number">1</span>d(<span class="variable">$v1</span>, <span class="variable">$v2</span>) &#123;</span><br><span class="line">  <span class="variable">$v-delta</span>: <span class="built_in">calc</span>(#&#123;<span class="variable">$v1</span>&#125; - #&#123;<span class="variable">$v2</span>&#125;);</span><br><span class="line">  <span class="keyword">@return</span> #&#123;<span class="built_in">abs</span>($v-delta)&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="三角函数"><a href="#三角函数" class="headerlink" title="三角函数"></a>三角函数</h3><p>其实这个笔者也不会实现~不过之前看到过<a target="_blank" rel="noopener" href="https://github.com/chokcoco/iCSS/issues/72">好友 chokcoco 的一篇文章</a>写到了如何在 CSS 中实现三角函数，在此表示感谢</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@function</span> fact(<span class="variable">$number</span>) &#123;</span><br><span class="line">  <span class="variable">$value</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$number</span>&gt;<span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="variable">$number</span> &#123;</span><br><span class="line">      <span class="variable">$value</span>: <span class="variable">$value</span> * <span class="variable">$i</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> pow(<span class="variable">$number</span>, <span class="variable">$exp</span>) &#123;</span><br><span class="line">  <span class="variable">$value</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$exp</span>&gt;<span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="variable">$exp</span> &#123;</span><br><span class="line">      <span class="variable">$value</span>: <span class="variable">$value</span> * <span class="variable">$number</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">@else</span> if <span class="variable">$exp</span> &lt; <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through -<span class="variable">$exp</span> &#123;</span><br><span class="line">      <span class="variable">$value</span>: <span class="variable">$value</span> / <span class="variable">$number</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> rad(<span class="variable">$angle</span>) &#123;</span><br><span class="line">  <span class="variable">$unit</span>: <span class="built_in">unit</span>(<span class="variable">$angle</span>);</span><br><span class="line">  <span class="variable">$unitless</span>: <span class="variable">$angle</span> / (<span class="variable">$angle</span> * <span class="number">0</span> + <span class="number">1</span>);</span><br><span class="line">  <span class="keyword">@if</span> <span class="variable">$unit</span>==deg &#123;</span><br><span class="line">    <span class="variable">$unitless</span>: <span class="variable">$unitless</span> / <span class="number">180</span> * <span class="built_in">pi</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$unitless</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> pi() &#123;</span><br><span class="line">  <span class="keyword">@return</span> <span class="number">3.14159265359</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> sin(<span class="variable">$angle</span>) &#123;</span><br><span class="line">  <span class="variable">$sin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="variable">$angle</span>: <span class="built_in">rad</span>(<span class="variable">$angle</span>);</span><br><span class="line">  <span class="comment">// Iterate a bunch of times.</span></span><br><span class="line">  <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">0</span> through <span class="number">20</span> &#123;</span><br><span class="line">    <span class="variable">$sin</span>: <span class="variable">$sin</span> + <span class="built_in">pow</span>(-<span class="number">1</span>, <span class="variable">$i</span>) * <span class="built_in">pow</span>(<span class="variable">$angle</span>, (<span class="number">2</span> * <span class="variable">$i</span> + <span class="number">1</span>)) / <span class="built_in">fact</span>(<span class="number">2</span> * <span class="variable">$i</span> + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$sin</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> cos(<span class="variable">$angle</span>) &#123;</span><br><span class="line">  <span class="variable">$cos</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="variable">$angle</span>: <span class="built_in">rad</span>(<span class="variable">$angle</span>);</span><br><span class="line">  <span class="comment">// Iterate a bunch of times.</span></span><br><span class="line">  <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">0</span> through <span class="number">20</span> &#123;</span><br><span class="line">    <span class="variable">$cos</span>: <span class="variable">$cos</span> + <span class="built_in">pow</span>(-<span class="number">1</span>, <span class="variable">$i</span>) * <span class="built_in">pow</span>(<span class="variable">$angle</span>, <span class="number">2</span> * <span class="variable">$i</span>) / <span class="built_in">fact</span>(<span class="number">2</span> * <span class="variable">$i</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">@return</span> <span class="variable">$cos</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@function</span> tan(<span class="variable">$angle</span>) &#123;</span><br><span class="line">  <span class="keyword">@return</span> sin(<span class="variable">$angle</span>) / cos(<span class="variable">$angle</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h2><p>以下的几个动画特效演示了上面数学函数的作用</p>
<h3 id="一维交错动画"><a href="#一维交错动画" class="headerlink" title="一维交错动画"></a>一维交错动画</h3><h4 id="初始状态"><a href="#初始状态" class="headerlink" title="初始状态"></a>初始状态</h4><p>创建一排元素，用内部阴影填充，准备好我们的数学函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略14个 list-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#222</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--blue-color-1</span>: <span class="number">#6ee1f5</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(这里复制粘贴上文所有的数学公式)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">  <span class="attr">--n</span>: <span class="number">16</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">  <span class="attribute">justify-content</span>: space-evenly;</span><br><span class="line"></span><br><span class="line">  &amp;-item &#123;</span><br><span class="line">    <span class="attr">--p</span>: <span class="number">2vw</span>;</span><br><span class="line">    <span class="attr">--gap</span>: <span class="number">1vw</span>;</span><br><span class="line">    <span class="attr">--bg</span>: <span class="built_in">var</span>(--blue-color-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="number">16</span> &#123;</span><br><span class="line">      &amp;<span class="selector-pseudo">:nth-child</span>(#&#123;$i&#125;) &#123;</span><br><span class="line">        <span class="attr">--i</span>: #&#123;<span class="variable">$i</span>&#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">padding</span>: <span class="built_in">var</span>(--p);</span><br><span class="line">    <span class="attribute">margin</span>: <span class="built_in">var</span>(--gap);</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">var</span>(--p) <span class="built_in">var</span>(--bg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/IUvG7oHdfweYqXu.png" alt="fb7wZV.png"></p>
<h4 id="应用动画"><a href="#应用动画" class="headerlink" title="应用动画"></a>应用动画</h4><p>这里用了 2 个动画：grow 负责将元素缩放出来；melt 负责“融化”元素（即消除阴影的扩散半径）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list grow-melt&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略14个 list-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">  &amp;<span class="selector-class">.grow-melt</span> &#123;</span><br><span class="line">    <span class="selector-class">.list-item</span> &#123;</span><br><span class="line">      <span class="attr">--t</span>: <span class="number">2s</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation-name</span>: grow, melt;</span><br><span class="line">      <span class="attribute">animation-duration</span>: <span class="built_in">var</span>(--t);</span><br><span class="line">      <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> grow &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">50%</span>,</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> melt &#123;</span><br><span class="line">  <span class="number">0%</span>,</span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">var</span>(--p) <span class="built_in">var</span>(--bg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">var</span>(--bg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/nADo61UlXy5zJ2x.gif" alt="fqkIkF.gif"></p>
<h4 id="交错动画"><a href="#交错动画" class="headerlink" title="交错动画"></a>交错动画</h4><ol>
<li>计算出元素下标的中位数</li>
<li>计算每个元素 id 到这个中位数的距离</li>
<li>根据距离算出比例</li>
<li>根据比例算出 delay</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list grow-melt middle-stagger&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略14个 list-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">  &amp;<span class="selector-class">.middle-stagger</span> &#123;</span><br><span class="line">    <span class="selector-class">.list-item</span> &#123;</span><br><span class="line">      <span class="attr">--m</span>: #&#123;middle(var(--n))&#125;; <span class="comment">// 中位数，这里是7.5</span></span><br><span class="line">      <span class="attr">--i-m-dist</span>: #&#123;<span class="built_in">dist-1d</span>(var(--i), <span class="selector-tag">var</span>(--m))&#125;; <span class="comment">// 计算每个id到中位数之间的距离</span></span><br><span class="line">      <span class="attr">--ratio</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--i-m-dist) / <span class="built_in">var</span>(--m)); <span class="comment">// 根据距离算出比例</span></span><br><span class="line">      <span class="attr">--delay</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--ratio) * <span class="built_in">var</span>(--t)); <span class="comment">// 根据比例算出delay</span></span><br><span class="line">      <span class="attr">--n-delay</span>: <span class="built_in">calc</span>((<span class="built_in">var</span>(--ratio) - <span class="number">2</span>) * <span class="built_in">var</span>(--t)); <span class="comment">// 负delay表示动画提前开始</span></span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation-delay</span>: <span class="built_in">var</span>(--n-delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/Y52yVRdiObuClnE.gif" alt="fqkzkD.gif"></p>
<p>地址：<a target="_blank" rel="noopener" href="https://codepen.io/alphardex/pen/vYmqvpe">Symmetric Line Animation</a></p>
<h3 id="二维交错动画"><a href="#二维交错动画" class="headerlink" title="二维交错动画"></a>二维交错动画</h3><h4 id="初始状态-1"><a href="#初始状态-1" class="headerlink" title="初始状态"></a>初始状态</h4><p>如何将一维的升成二维？应用网格系统即可</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略62个 grid-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid</span> &#123;</span><br><span class="line">  <span class="variable">$row</span>: <span class="number">8</span>;</span><br><span class="line">  <span class="variable">$col</span>: <span class="number">8</span>;</span><br><span class="line">  <span class="attr">--row</span>: #&#123;<span class="variable">$row</span>&#125;;</span><br><span class="line">  <span class="attr">--col</span>: #&#123;<span class="variable">$col</span>&#125;;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">0.25vw</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">display</span>: grid;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="built_in">var</span>(--gap);</span><br><span class="line">  <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(<span class="built_in">var</span>(--row), <span class="number">1</span>fr);</span><br><span class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(<span class="built_in">var</span>(--col), <span class="number">1</span>fr);</span><br><span class="line"></span><br><span class="line">  &amp;-item &#123;</span><br><span class="line">    <span class="attr">--p</span>: <span class="number">2vw</span>;</span><br><span class="line">    <span class="attr">--bg</span>: <span class="built_in">var</span>(--blue-color-<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$y</span> from <span class="number">1</span> through <span class="variable">$row</span> &#123;</span><br><span class="line">      <span class="keyword">@for</span> <span class="variable">$x</span> from <span class="number">1</span> through <span class="variable">$col</span> &#123;</span><br><span class="line">        <span class="variable">$k</span>: <span class="variable">$col</span> * (<span class="variable">$y</span> - <span class="number">1</span>) + <span class="variable">$x</span>;</span><br><span class="line">        &amp;<span class="selector-pseudo">:nth-child</span>(#&#123;$k&#125;) &#123;</span><br><span class="line">          <span class="attr">--x</span>: #&#123;<span class="variable">$x</span>&#125;;</span><br><span class="line">          <span class="attr">--y</span>: #&#123;<span class="variable">$y</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">padding</span>: <span class="built_in">var</span>(--p);</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">var</span>(--p) <span class="built_in">var</span>(--bg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/1jIPowcdNGZDQiM.png" alt="fLsvPx.png"></p>
<h4 id="应用动画-1"><a href="#应用动画-1" class="headerlink" title="应用动画"></a>应用动画</h4><p>跟上面的动画一模一样</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid grow-melt&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略62个 grid-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid</span> &#123;</span><br><span class="line">  &amp;<span class="selector-class">.grow-melt</span> &#123;</span><br><span class="line">    <span class="selector-class">.grid-item</span> &#123;</span><br><span class="line">      <span class="attr">--t</span>: <span class="number">2s</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation-name</span>: grow, melt;</span><br><span class="line">      <span class="attribute">animation-duration</span>: <span class="built_in">var</span>(--t);</span><br><span class="line">      <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/RfgTYUvtZK8qdwu.gif" alt="fLsGvD.gif"></p>
<h4 id="交错动画-1"><a href="#交错动画-1" class="headerlink" title="交错动画"></a>交错动画</h4><ol>
<li>计算出网格行列的中位数</li>
<li>计算网格 xy 坐标到中位数的距离并求和</li>
<li>根据距离算出比例</li>
<li>根据比例算出 delay</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid grow-melt middle-stagger&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略62个 grid-item)</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid</span> &#123;</span><br><span class="line">  &amp;<span class="selector-class">.middle-stagger</span> &#123;</span><br><span class="line">    <span class="selector-class">.grid-item</span> &#123;</span><br><span class="line">      <span class="attr">--m</span>: #&#123;middle(var(--col))&#125;; <span class="comment">// 中位数，这里是7.5</span></span><br><span class="line">      <span class="attr">--x-m-dist</span>: #&#123;<span class="built_in">dist-1d</span>(var(--x), <span class="selector-tag">var</span>(--m))&#125;; <span class="comment">// 计算x坐标到中位数之间的距离</span></span><br><span class="line">      <span class="attr">--y-m-dist</span>: #&#123;<span class="built_in">dist-1d</span>(var(--y), <span class="selector-tag">var</span>(--m))&#125;; <span class="comment">// 计算y坐标到中位数之间的距离</span></span><br><span class="line">      <span class="attr">--dist-sum</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--x-m-dist) + <span class="built_in">var</span>(--y-m-dist)); <span class="comment">// 距离之和</span></span><br><span class="line">      <span class="attr">--ratio</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--dist-sum) / <span class="built_in">var</span>(--m)); <span class="comment">// 根据距离和计算比例</span></span><br><span class="line">      <span class="attr">--delay</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--ratio) * <span class="built_in">var</span>(--t) * <span class="number">0.5</span>); <span class="comment">// 根据比例算出delay</span></span><br><span class="line">      <span class="attr">--n-delay</span>: <span class="built_in">calc</span>(</span><br><span class="line">        (<span class="built_in">var</span>(--ratio) - <span class="number">2</span>) * <span class="built_in">var</span>(--t) * <span class="number">0.5</span></span><br><span class="line">      ); <span class="comment">// 负delay表示动画提前开始</span></span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation-delay</span>: <span class="built_in">var</span>(--n-delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/fshO3jvHSCUFXK5.gif" alt="fL2Ppt.gif"></p>
<p>地址：<a target="_blank" rel="noopener" href="https://codepen.io/alphardex/pen/zYwgdZO">Symmetric Grid Animation</a></p>
<h4 id="另一种动画"><a href="#另一种动画" class="headerlink" title="另一种动画"></a>另一种动画</h4><p>可以换一种动画 shuffle（穿梭），会产生另一种奇特的效果</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid shuffle middle-stagger&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略254个 grid-item )</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;grid-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grid</span> &#123;</span><br><span class="line">  <span class="variable">$row</span>: <span class="number">16</span>;</span><br><span class="line">  <span class="variable">$col</span>: <span class="number">16</span>;</span><br><span class="line">  <span class="attr">--row</span>: #&#123;<span class="variable">$row</span>&#125;;</span><br><span class="line">  <span class="attr">--col</span>: #&#123;<span class="variable">$col</span>&#125;;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">0.25vw</span>;</span><br><span class="line"></span><br><span class="line">  &amp;-item &#123;</span><br><span class="line">    <span class="attr">--p</span>: <span class="number">1vw</span>;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">transform-origin</span>: bottom;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.shuffle</span> &#123;</span><br><span class="line">    <span class="selector-class">.grid-item</span> &#123;</span><br><span class="line">      <span class="attr">--t</span>: <span class="number">2s</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation</span>: shuffle <span class="built_in">var</span>(--t) infinite ease-in-out alternate;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> shuffle &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">50%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">1</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: bottom;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">50.01%</span> &#123;</span><br><span class="line">    <span class="attribute">transform-origin</span>: top;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform-origin</span>: top;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scaleY</span>(<span class="number">0.1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/5yeFKCQiAoIEu6Z.gif" alt="fOJSZ8.gif"></p>
<p>地址：<a target="_blank" rel="noopener" href="https://codepen.io/alphardex/pen/YzVmYaV">Shuffle Grid Animation</a></p>
<h3 id="余弦波动动画"><a href="#余弦波动动画" class="headerlink" title="余弦波动动画"></a>余弦波动动画</h3><h4 id="初始状态-2"><a href="#初始状态-2" class="headerlink" title="初始状态"></a>初始状态</h4><p>创建 7 个不同颜色的（这里直接选了彩虹色）列表，每个列表有 40 个子元素，每个子元素是一个小圆点</p>
<p>让这 7 个列表排列在一条线上，且 z 轴上距离错开，设置好基本的 delay</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;lists&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list-item&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ...(此处省略39个 list-item)</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...(此处省略6个 list)</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lists</span> &#123;</span><br><span class="line">  <span class="variable">$list-count</span>: <span class="number">7</span>;</span><br><span class="line">  <span class="variable">$colors</span>: red, orange, yellow, green, cyan, blue, purple;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">34vw</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2vw</span>;</span><br><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">  <span class="attribute">perspective</span>: <span class="number">800px</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateZ</span>(<span class="built_in">var</span>(--z));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="variable">$list-count</span> &#123;</span><br><span class="line">      &amp;<span class="selector-pseudo">:nth-child</span>(#&#123;$i&#125;) &#123;</span><br><span class="line">        <span class="attr">--bg</span>: #&#123;<span class="built_in">nth</span>($colors, $i)&#125;;</span><br><span class="line">        <span class="attr">--z</span>: #&#123;<span class="variable">$i</span> * -<span class="number">1vw</span>&#125;;</span><br><span class="line">        <span class="attr">--basic-delay-ratio</span>: #&#123;<span class="variable">$i</span> / <span class="variable">$list-count</span>&#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;-item &#123;</span><br><span class="line">      <span class="attr">--w</span>: <span class="number">0.6vw</span>;</span><br><span class="line">      <span class="attr">--gap</span>: <span class="number">0.15vw</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">width</span>: <span class="built_in">var</span>(--w);</span><br><span class="line">      <span class="attribute">height</span>: <span class="built_in">var</span>(--w);</span><br><span class="line">      <span class="attribute">margin</span>: <span class="built_in">var</span>(--gap);</span><br><span class="line">      <span class="attribute">background</span>: <span class="built_in">var</span>(--bg);</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/J9KwVExkMmXL47U.png" alt="hSdtfI.png"></p>
<h4 id="余弦排列"><a href="#余弦排列" class="headerlink" title="余弦排列"></a>余弦排列</h4><p>运用上文的三角函数公式，让这些小圆点以余弦的一部分形状进行排列</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lists</span> &#123;</span><br><span class="line">  <span class="selector-class">.list</span> &#123;</span><br><span class="line">    &amp;-item &#123;</span><br><span class="line">      <span class="variable">$item-count</span>: <span class="number">40</span>;</span><br><span class="line">      <span class="variable">$offset</span>: <span class="built_in">pi</span>() * <span class="number">0.5</span>;</span><br><span class="line">      <span class="attr">--wave-length</span>: <span class="number">21vw</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">1</span> through <span class="variable">$item-count</span> &#123;</span><br><span class="line">        &amp;<span class="selector-pseudo">:nth-child</span>(#&#123;$i&#125;) &#123;</span><br><span class="line">          <span class="attr">--i</span>: #&#123;<span class="variable">$i</span>&#125;;</span><br><span class="line">          <span class="variable">$ratio</span>: (<span class="variable">$i</span> - <span class="number">1</span>) / (<span class="variable">$item-count</span> - <span class="number">1</span>);</span><br><span class="line">          <span class="variable">$angle-unit</span>: <span class="built_in">pi</span>() * <span class="variable">$ratio</span>;</span><br><span class="line">          <span class="variable">$wave</span>: <span class="built_in">cos</span>(<span class="variable">$angle-unit</span> + <span class="variable">$offset</span>);</span><br><span class="line">          <span class="attr">--single-wave-length</span>: <span class="built_in">calc</span>(#&#123;<span class="variable">$wave</span>&#125; * <span class="selector-tag">var</span>(--wave-length));</span><br><span class="line">          <span class="attr">--n-single-wave-length</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--single-wave-length) * -<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">var</span>(--n-single-wave-length));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/H3RiDVBQJYOPFe6.png" alt="hSwuNj.png"></p>
<h4 id="波动动画"><a href="#波动动画" class="headerlink" title="波动动画"></a>波动动画</h4><p>对每个小圆点应用上下平移动画，平移的距离就是余弦的波动距离</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lists</span> &#123;</span><br><span class="line">  <span class="selector-class">.list</span> &#123;</span><br><span class="line">    &amp;-item &#123;</span><br><span class="line">      <span class="attr">--t</span>: <span class="number">2s</span>;</span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation</span>: wave <span class="built_in">var</span>(--t) infinite ease-in-out alternate;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> wave &#123;</span><br><span class="line">  from &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">var</span>(--n-single-wave-length));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">var</span>(--single-wave-length));</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/9Jgvl86FXQCHfpT.gif" alt="hSwfPA.gif"></p>
<h4 id="交错动画-2"><a href="#交错动画-2" class="headerlink" title="交错动画"></a>交错动画</h4><p>跟上面一个套路，计算从中间开始的 delay，再应用到动画上即可</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lists</span> &#123;</span><br><span class="line">  <span class="selector-class">.list</span> &#123;</span><br><span class="line">    &amp;-item &#123;</span><br><span class="line">      <span class="attr">--n</span>: #&#123;<span class="variable">$item-count</span> + <span class="number">1</span>&#125;;</span><br><span class="line">      <span class="attr">--m</span>: #&#123;middle(var(--n))&#125;;</span><br><span class="line">      <span class="attr">--i-m-dist</span>: #&#123;<span class="built_in">dist-1d</span>(var(--i), <span class="selector-tag">var</span>(--m))&#125;;</span><br><span class="line">      <span class="attr">--ratio</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--i-m-dist) / <span class="built_in">var</span>(--m));</span><br><span class="line">      <span class="attr">--square</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--ratio) * <span class="built_in">var</span>(--ratio));</span><br><span class="line">      <span class="attr">--delay</span>: <span class="built_in">calc</span>(</span><br><span class="line">        <span class="built_in">calc</span>(<span class="built_in">var</span>(--square) + <span class="built_in">var</span>(--basic-delay-ratio) + <span class="number">1</span>) * <span class="built_in">var</span>(--t)</span><br><span class="line">      );</span><br><span class="line">      <span class="attr">--n-delay</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--delay) * -<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">      <span class="attribute">animation-delay</span>: <span class="built_in">var</span>(--n-delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://s2.loli.net/2024/05/22/AlydWrQq7RGVkU3.gif" alt="hSwqaQ.gif"></p>
<p>地址：<a target="_blank" rel="noopener" href="https://codepen.io/alphardex/pen/GREKJbL">Rainbow Sine</a></p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>CSS 数学函数能实现的特效远不止于此，希望通过本文能激起大家创作特效的灵感~</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">alphardex</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://alphardex.github.io/mygo/posts/38775/">https://alphardex.github.io/mygo/posts/38775/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><div class="social-share pull-right"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><nav id="pagination"><div class="prev-post pull-left"><a href="/mygo/posts/54692/"><i class="fa fa-chevron-left">  </i><span>p5.js 实现鼠标炫光残影移动效果</span></a></div><div class="next-post pull-right"><a href="/mygo/posts/23735/"><span>three.js 实现火花特效</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="vcomment"></div><script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = 'false' == 'true';
var verify = 'false' == 'true';
var record_ip = 'false' == 'true';
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  recordIP:record_ip,
  appId:'MUKqiaU6CnxOn2VeT4cUBLdG-gzGzoHsz',
  appKey:'nxePlNHUgdOaABmHUoWz4TpR',
  placeholder:'何が言いたいことがある？',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10',
  lang: 'zh-cn'
})</script></div></div><footer class="footer-bg" style="background-image: url(https://s2.loli.net/2024/05/21/HtNjkzv1FEdAVby.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2024 By alphardex</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/mygo/js/utils.js?version=1.9.1"></script><script src="/mygo/js/fancybox.js?version=1.9.1"></script><script src="/mygo/js/sidebar.js?version=1.9.1"></script><script src="/mygo/js/copy.js?version=1.9.1"></script><script src="/mygo/js/fireworks.js?version=1.9.1"></script><script src="/mygo/js/transition.js?version=1.9.1"></script><script src="/mygo/js/scroll.js?version=1.9.1"></script><script src="/mygo/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>